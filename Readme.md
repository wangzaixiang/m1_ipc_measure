
这个代码复制自：https://gist.github.com/ibireme/173517c208c7dc333ba962c1f0d67d12

简单修改了一下，可以使用如下命令行进行工作：
- kpc 2 prog args   ; 启动 prog args 并收集2秒之内的 IPC 数据。

目前的限制：
1. 似乎在 n * 2 秒内，该进程必须还在运行，否则收集不到性能数据
2. 目前还没有找到合适的方式，不需要设置 n，而是在进程完整的生命周期内，都能收集性能数据。主要还是对 kpc 的 API 不熟悉，也找不到文档。

使用这个工具，可以帮助我们对当前程序的 IPC 有一个了解，从而可以更好的优化程序。应用到最近编写的 1brc 项目中，最优版本的 IPC 目前达到了 4.70。